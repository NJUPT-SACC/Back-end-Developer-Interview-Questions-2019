# golang语言基础常见面试题目

1. go语言有些什么特点?  
答：编译型语言，部署简单，并发性好，自动垃圾回收，完善简便的各种类库，适用于大规模高并发后端服务器程序开发  

2. go优缺点  
优点：  
(1)性能  
(2)语言性能很重要  
(3)开发者效率&不要过于创新  
(4)并发性&通道  
(5)快速的编译时间  
缺点：  
(1)缺少框架  
(2)错误处理  
(3)软件包管理  

3. go踩过什么坑  
答：(1).for range 是副本  
(2).Go中的数组是数值，因此当你向函数中传递数组时，函数会得到原始数组数据的一份复制  
(3).尝试使用索引操作来更新字符串变量中的单个字符将会失败。string是只读的byte slice（和一些额外的属性）。如果你确实需要更新一个字符串，那么使用byte slice，并在需要时把它转换为string类型。  
(4).byte = uint8 || rune=int32(UTF-8)  
(5).在“switch”声明语句中的“case”语句块在默认情况下会break。这和其他语言中的进入下一个“next”代码块的默认行为不同。你可以通过在每个“case”块的结尾使用“fallthrough”，来强制“case”代码块进入。  
(6).应用将不会等待所有的goroutines完成。  

4. go struct能不能比较  
答：如果结构体中的各个元素都可以用你可以使用等号来比较的话，那就可以使用相号, ==，来比较结构体变量。  

5. slice，len，cap，共享，扩容  
(1).内置append函数在现有数组的长度 < 1024 时 cap 增长是翻倍的，再往上的增长率则是 1.25。  
(2).Go语言中channel，slice，map这三种类型的实现机制类似指针，所以可以直接传递，而不用取地址后传递指针。（注：若函数需改变slice的长度，则仍需要取地址传递指针）  
(3).在函数内用append时，append会自动以倍增的方式扩展slice_2的容量，但是扩展也仅仅是函数内slice_2的长度和容量，slice_1的长度和容量是没变的，所以在函数外打印时看起来就是没变。  
(4).当程序要求slice的容量超大并且需要频繁的更改slice的内容时，就不应该用slice，改用list更合适。  
(5).Go 在 append 和 copy 方面的开销是可预知+可控的，应用上简单的调优有很好的效果。这个世界上没有免费的动态增长内存，各种实现方案都有设计权衡。  
(6).我们知道数据结构中数组是非常高效的，可以直接寻址，但是有个缺陷，难以扩容。所以slice被设计为指向数组的指针，在需要扩容时，会将底层数组上的值复制到一个更大的数组上然后指向这个新数组。slice有个特性是允许多个slice指向同一个底层数组，这是一个有用的特性，在很多场景下都能通过这个特性实现 no copy 而提高效率。但共享同时意味着不安全,怎么解决呢？防止共享数据的出现问题需要注意两条，只读和复制，或者统一归纳为不可变:  
写法1，make出一个新slice，然后先copy前缀到新数组上再追加：  
写法2，利用go中slice的一个小众语法，a[0:1:1] (源[起始index，终止index，cap终止index])，强迫追加时复制到新数组。  

6. Golang 切片如何删除数据?
7. Golang map的实现 为什么map的key是随机的?和C++的map比有什么区别
8. Golang的map是线程安全的吗?如何实现一个线程安全的map,sync.Map你有了解过吗?
9. map如何顺序读取?
10. Golang协程之间如何通信(Channal,共享变量,context)
11. Golang实现timeout机制
12. 实现一个简单的协程池
13. 无缓冲 channal 的发送和接收是否同步？
14. defer的执行顺序
15. interface有什么用
16. golang如何实现多态
17. go的调度
18. go的垃圾回收(对STW的优化)